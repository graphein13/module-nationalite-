<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1440, maximum-scale=1.0" />
    <link rel="shortcut icon" type="image/png" href="img/favicon.pssng" />
    <meta name="og:type" content="website" />
    <meta name="twitter:card" content="photo" />
    <link rel="stylesheet" type="text/css" href="css/u55357u56516-calculer-une-date-de-naissance-1u472.css" />
    <link rel="stylesheet" type="text/css" href="css/styleguide.css" />
    <link rel="stylesheet" type="text/css" href="css/globals.css" />
    <title>Résultat - Calculateur de Date de Naissance</title>
  </head>
  <body style="margin: 0; background: #ffffff">
    <input type="hidden" id="anPageName" name="page" value="u55357u56516-calculer-une-date-de-naissance-1u472" />
    <div class="u55357u56516-calculer-une-date-de-naissance-1u472 screen">
      <div class="ds-ppn-sections-en-tte-et-navigation">
        <div class="en-tte-desktop">
          <div class="contenant-technique-en-tte">
            <div class="ne-pas-changer-fond"></div>
            <div class="ne-pas-changer-bloc-marque">
              <img class="ne-pas-changer-marianne" src="img/---ne-pas-changer---marianne-90.svg" alt="Ne pas changer - Marianne" />
              <div class="intitul-officiel">ESTELLE<br />COLLINET</div>
              <img class="devise" src="img/devise-90.svg" alt="Devise" />
            </div>
            <div class="intitul-du-site">
              <div class="texte">
                <p class="nom-du-service-site x1titresh6---xxsdesktop">Calculateur de date de naissance</p>
                <div class="prcisions-sur-lorganisation x2corps-de-textesm---texte-dtaildesktop--mobile---regular">Pour Estelle COLLINET</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="contenu-de-la-page" style="padding: 40px; text-align: center;">
        <h2 class="nom-du-service-site">Voici les résultats</h2>
        <div class="resultats" style="font-size: 1.2em; margin-top: 20px; line-height: 2.5em;">
          <p class="prcisions-sur-lorganisation">L'enfant a eu 8 ans le : <span id="age8"></span></p>
          <p class="prcisions-sur-lorganisation">L'enfant a eu 11 ans le : <span id="age11"></span></p>
          <p class="prcisions-sur-lorganisation">Et aujourd'hui (le <span id="currentDate"></span>) la personne a : <span id="currentAge"></span></p>
        </div>
        <button onclick="retour()" style="padding: 10px 20px; margin-top: 30px; background-color: #000091; color: white; border: none; cursor: pointer;">Retour</button>
      </div>

      <div class="ds-ppn-sections-pied-de-page-complet">
        <div class="pied-de-page-complet">
          <div class="ne-pas-changer">
            <div class="contenant-technique">
              <div class="sparateur"></div>
            </div>
            <div class="contenu">
              <div class="ne-pas-changer-bloc-marque-1">
                <img class="ne-pas-changer-marianne-1" src="img/---ne-pas-changer---marianne-91.svg" alt="Ne pas changer - Marianne" />
                <div class="intitul-officiel-1">MINISTÈRE<br />DE LA JUSTICE</div>
                <img class="devise-1" src="img/devise-91.svg" alt="Devise" />
              </div>
              <div class="description">
                <div class="flex-container-i4426 x2corps-de-textesm---texte-dtaildesktop--mobile---regular">
                  <div class="text0-i4426515618">
                    <span class="x2corps-de-textesm---texte-dtaildesktop--mobile---regular">Application optimisée par Maxime Gammaire</span>
                  </div>
                  <div class="text1-i4426515618">
                    <span class="x2corps-de-textesm---texte-dtaildesktop--mobile---regular">Un bonbon ou un café pour me remercier ? Mon RIB est en pièce jointe !</span>
                  </div>
                </div>
                <div class="ne-pas-changer-liens">
                  <div class="lien-5">
                    <div class="legifrancegouvfr x2corps-de-textesm---texte-dtaildesktop--mobile---bold">legifrance.gouv.fr</div>
                    <img class="ne-pas-changer-1" src="img/---ne-pas-changer---ic-ne-104.svg" alt="Ne pas changer - Icne" />
                  </div>
                  <div class="lien-5">
                    <div class="gouvernementfr x2corps-de-textesm---texte-dtaildesktop--mobile---bold">gouvernement.fr</div>
                    <img class="ne-pas-changer-1" src="img/---ne-pas-changer---ic-ne-104.svg" alt="Ne pas changer - Icne" />
                  </div>
                  <div class="lien-5">
                    <div class="service-publicfr x2corps-de-textesm---texte-dtaildesktop--mobile---bold">service-public.fr</div>
                    <img class="ne-pas-changer-1" src="img/---ne-pas-changer---ic-ne-104.svg" alt="Ne pas changer - Icne" />
                  </div>
                  <div class="lien-5">
                    <div class="datagouvfr x2corps-de-textesm---texte-dtaildesktop--mobile---bold">data.gouv.fr</div>
                    <img class="ne-pas-changer-1" src="img/---ne-pas-changer---ic-ne-104.svg" alt="Ne pas changer - Icne" />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="ne-pas-changer">
            <img class="ne-pas-changer-sparateur-1" src="img/---ne-pas-changer---s-parateur-118.svg" alt="Ne pas changer - Sparateur" />
            <div class="contenu-1">
              <div class="mentions x2corps-de-textexs---texte-mentiondesktop--mobile---regular">
                <div class="plan-du-site">Plan du site</div>
                <img class="ne-pas-changer-sparateur" src="img/---ne-pas-changer---s-parateur-119.svg" alt="Ne pas changer - Sparateur" />
                <div class="accessibilit">Accessibilité</div>
                <img class="ne-pas-changer-sparateur" src="img/---ne-pas-changer---s-parateur-119.svg" alt="Ne pas changer - Sparateur" />
                <div class="mentions-lgales">Mentions légales</div>
                <img class="ne-pas-changer-sparateur" src="img/---ne-pas-changer---s-parateur-119.svg" alt="Ne pas changer - Sparateur" />
                <div class="donnes-personnelles">Données personnelles</div>
                <img class="ne-pas-changer-sparateur" src="img/---ne-pas-changer---s-parateur-119.svg" alt="Ne pas changer - Sparateur" />
                <div class="gestion-des-cookies">Gestion des cookies</div>
              </div>
              <div class="licence">
                <p class="licence-1 x2corps-de-textexs---texte-mentiondesktop--mobile---regular">
                  <span class="x2corps-de-textexs---texte-mentiondesktop--mobile---regular">Sauf mention explicite de propriété intellectuelle détenue par des tiers, les contenus de ce site sont proposés sous </span>
                  <a href="https://github.com/etalab/licence-ouverte/blob/master/LO.md" target="_blank">
                    <span class="span1 x2corps-de-textexs---texte-mentiondesktop--mobile---regular">licence etalab-2.0</span>
                  </a>
                </p>
                <div class="lien">
                  <img class="ne-pas-changer-1" src="img/---ne-pas-changer---lien-externe-22.svg" alt="Ne pas changer - Lien externe" />
                </div>
                <img class="soulignement" src="img/soulignement-22.svg" alt="Soulignement" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Ajout de la date d'aujourd'hui
        document.getElementById("currentDate").innerText = formatDate(new Date());
        // Récupération de la date de naissance depuis le localStorage
        let birthDateString = localStorage.getItem("birthDate");
        if (birthDateString) {
          let birthDate = new Date(birthDateString);
          
          // Calcul de la date des 8 ans
          let age8Date = new Date(birthDate);
          age8Date.setFullYear(age8Date.getFullYear() + 8);
          document.getElementById("age8").innerText = formatDate(age8Date);

          // Calcul de la date des 11 ans
          let age11Date = new Date(birthDate);
          age11Date.setFullYear(age11Date.getFullYear() + 11);
          document.getElementById("age11").innerText = formatDate(age11Date);

          // Calcul de l'âge actuel avec mois et jours si nécessaire
          let today = new Date();
          let ageNow = today.getFullYear() - birthDate.getFullYear();
          let monthDiff = today.getMonth() - birthDate.getMonth();
          let dayDiff = today.getDate() - birthDate.getDate();

          if (monthDiff < 0 || (monthDiff === 0 && dayDiff < 0)) {
            ageNow--;
            monthDiff += 12;
          }

          if (dayDiff < 0) {
            monthDiff--;
            dayDiff += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
          }

          if (ageNow <= 0) {
            document.getElementById("currentAge").innerText = `${monthDiff} mois et ${dayDiff} jours`;
          } else {
            document.getElementById("currentAge").innerText = `${ageNow} ans et ${monthDiff} mois`;
          }
        } else {
          alert("Aucune date de naissance trouvée. Veuillez retourner à la page précédente et entrer une date.");
        }
      });

      // Fonction pour formater la date en JJ/MM/AAAA
      function formatDate(date) {
        let day = ("0" + date.getDate()).slice(-2);
        let month = ("0" + (date.getMonth() + 1)).slice(-2);
        let year = date.getFullYear();
        return `${day}/${month}/${year}`;
      }

      // Fonction pour retourner à la page précédente
      function retour() {
        window.location.href = "formulaire.html";
      }
    </script>
  </body>
</html>
